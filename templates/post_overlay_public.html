<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='post_overlay_public.css')}}" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

<head>
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:3283623,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
</head>



<html>


    <style>
        #overlay {
            position: fixed;
            display: flex;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1;
        }
    </style>


    <div id="overlay">

        <div id="click_zone_left" onclick="off()"></div>
        <div id="click_zone_right" onclick="off()"></div>
        <div id="click_zone_top" onclick="off()"></div>
        <div id="click_zone_bottom" onclick="off()"></div>

        <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <div class="overlay_main">
                <div class="overlay_left">
                    <img class="overlay_img" src="https://rustymemories.s3.eu-west-3.amazonaws.com/{{post}}" alt="FeaturedImage">
                    <div class="overlay_username">
                        {{username}}
                    </div>

                    <div class="caption" style="margin-top: 20px; left: 20px; bottom: 20px; position: absolute; width: 40%; text-shadow: 0px 0px 10px #000000;">
                        <div style="color: #ffa256; width: 100%; margin-bottom: 10px; font-size: 16px;">WIPE STORY</div>
                        {{all_data[2]}}
                    </div>
            
                </div>
                <div class="overlay_right">
                    <div style="width: 100%; height: 100%;">

                        <div class="overlay_posted_on">
                            {{all_data[0]}} UTC
                        </div>
                        
                        <button class="like_button" name="like_button" id="like_button" value="like_button">
                            <span class="material-symbols-outlined" style="color: white;">
                                thumb_up
                            </span>
                        </button>
                        <button class="dislike_button" name="dislike_button" id="dislike_button" value="dislike_button">
                            <span class="material-symbols-outlined" style="color: white;">
                                thumb_down
                            </span>
                        </button>

                        <div class="caption" style="margin-top: 20px;">
                            <div style="color: #ffa256; width: 100%; margin-bottom: 10px; font-size: 16px;">DESCRIPTION</div>
                            {{all_data[3]}}
                        </div>
                        
                        <div class="split_line_comment"></div>

                        <div class="split_line_comment"></div>

                        <div class="comment_section">
                            <input type="text" placeholder="add comment as (username)">
                            
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
        document.getElementById("overlay").style.display = "block";
    }

    function off() {
        document.getElementById("overlay").style.display = "none";
    }
    </script>
    </div>



<header>
    <div class="header">
        <div style="display: flex; justify-content: space-between; align-items: center;">

            <a href="/">
                <img class="header_img" src="https://rustymemories.s3.eu-west-3.amazonaws.com/files/home_icon.png" alt="FeaturedImage">
            </a>

            <a href="/profile">
                <img class="header_img" src="https://rustymemories.s3.eu-west-3.amazonaws.com/files/profile_basic.png" alt="FeaturedImage">
            </a>

            <a href="/users/search">
                <img class="header_img" src="https://rustymemories.s3.eu-west-3.amazonaws.com/files/search_icon.png" alt="FeaturedImage">
            </a>
        </div>
    </div>
</header>

<div class="all_page">
    <div class="top_part">
        <div class="left_part">
            <form action="/profile" method="POST" enctype=multipart/form-data>
                <img class="carouselimg" src="https://rustymemories.s3.eu-west-3.amazonaws.com/{{profile_image}}" alt="FeaturedImage">

                <div class="popup" style="display: flex; justify-content: center;">
                    <div class="popuptext" id="myPopup" style="display: flex; justify-content: space-around; align-items: center; padding: 10px;">
                        


                        <div class="file-input" style="rotate: 180deg;" id="upload_button">
                            <input
                              type="file"
                              name="file"
                              id="file-input"
                              class="file-input__input"
                              accept="image/jpg, image/jpeg, image/png"
                            />
                            <label class="file-input__label" for="file-input">
                              <svg
                                aria-hidden="true"
                                focusable="false"
                                data-prefix="fas"
                                data-icon="upload"
                                class="svg-inline--fa fa-upload fa-w-16"
                                role="img"
                                viewBox="0 0 512 512"
                              >
                                <path
                                  fill="currentColor"
                                  d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"
                                ></path>
                              </svg>
                              <span>Change Image</span></label
                            >
                        </div>

            </form>



                    </div>
                </div>
                  



            <div class="username">
                
                <div class="username_name" style="flex-wrap: wrap;">
                    <div style="margin-left: 5px;">{{user}}</div>
                </div>


                <form action="/profile" method="POST">
                    <div style="display: flex; width: 100%;">
                        <div minlength="10" maxlength="150" name="bio" id="bio" class="bio">{{bio}}</div>
                    </div>
                </form>
            </div>
        </div>
        <div class="right_part">
            
            <div class="left_box">
                <div class="left_box_title">
                    Fun fact about me
                </div>
                <div class="left_box_text">
                    <form action="/profile" method="POST">
                        <div style="display: flex; justify-content: center;">
                            <div minlength="10" maxlength="100" id="fun_fact" name="fun_fact" class="fun_fact">{{fun_fact}}</div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="all_page2">
    <div class="middle_part">
        <div class="friends_title">
            Following ({{following_num}})
        </div>
        <div class="long_box_friends">

            
            {% for (following, profile) in zip(following, following_profile_url) %}
            
                <div class="friend_box">
                    <div class="left_friend_pfp">
                        <a href="/users/{{following}}">
                            <div style="height: 60px; width: auto;">
                                <img class="friend_icon" src="https://rustymemories.s3.eu-west-3.amazonaws.com/{{profile}}" alt="FeaturedImage">
                            </div>
                        </a>
                    </div>
                        <a href="/users/{{following}}">
                            <div class="friend_username">{{following}}</div>
                        </a>
                </div>


            {% endfor %}




            <div class="friend_box_view_all">View All</div>
        </div>
    </div>
</div>






<div class="all_page2">
    <div class="middle_part">


        <div class="friends_title">
            Posts
        </div>
        <div class="long_box_friends2">



            {% for (post, time, post_url) in zip(reversed(all_posts), reversed(all_post_times), reversed(all_post_urls)) %}

                <div class="friend_box2">
                    <a href="/user_posts/{{post_url}}">
                        <img class="friend_icon2" src="https://rustymemories.s3.eu-west-3.amazonaws.com/{{post}}" alt="No posts yet">
                    </a>
                        <div class="date_posted">{{time}} UTC</div>
                </div>

            {% endfor %}

        </div>
    </div>
</div>






<script>
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }
</script>